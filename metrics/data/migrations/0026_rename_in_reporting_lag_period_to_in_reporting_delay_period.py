# Generated by Django 5.0.6 on 2024-07-12 11:51

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("data", "0025_add_in_reporting_lag_period_to_api_time_series"),
    ]

    operations = [
        migrations.RemoveConstraint(
            model_name="apitimeseries",
            name="The `APITimeSeries` record should be unique",
        ),
        migrations.RemoveConstraint(
            model_name="coretimeseries",
            name="The `CoreTimeSeries` record should be unique",
        ),
        migrations.RemoveField(
            model_name="apitimeseries",
            name="in_reporting_lag_period",
        ),
        migrations.RemoveField(
            model_name="coretimeseries",
            name="in_reporting_lag_period",
        ),
        migrations.AddField(
            model_name="apitimeseries",
            name="in_reporting_delay_period",
            field=models.BooleanField(
                default=False,
                help_text="\nWhether the record falls within the current reporting delay period. \nIf true, then the value is subject to change in a subsequent retrospective update.\n",
            ),
        ),
        migrations.AddField(
            model_name="coretimeseries",
            name="in_reporting_delay_period",
            field=models.BooleanField(
                default=False,
                help_text="\nWhether the record falls within the current reporting delay period. \nIf true, then the value is subject to change in a subsequent retrospective update.\n",
            ),
        ),
        migrations.AddConstraint(
            model_name="apitimeseries",
            constraint=models.UniqueConstraint(
                fields=(
                    "metric",
                    "topic",
                    "theme",
                    "sub_theme",
                    "geography",
                    "geography_type",
                    "geography_code",
                    "stratum",
                    "age",
                    "sex",
                    "year",
                    "month",
                    "epiweek",
                    "date",
                    "metric_value",
                    "in_reporting_delay_period",
                ),
                name="The `APITimeSeries` record should be unique",
            ),
        ),
        migrations.AddConstraint(
            model_name="coretimeseries",
            constraint=models.UniqueConstraint(
                fields=(
                    "metric",
                    "geography",
                    "stratum",
                    "age",
                    "sex",
                    "year",
                    "month",
                    "epiweek",
                    "date",
                    "metric_value",
                    "in_reporting_delay_period",
                ),
                name="The `CoreTimeSeries` record should be unique",
            ),
        ),
    ]
